{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\App.svelte",
    "..\\..\\Carousel.svelte",
    "..\\..\\Place.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount } from \"svelte\";\n  import { fade } from \"svelte/transition\";\n  import { _ } from \"svelte-i18n\";\n  import LocaleSelector from \"./components/LocaleSelector.svelte\";\n  import Place from \"./components/Place.svelte\";\n  import { moveMap, mapSrc } from \"./functions/map-fns\";\n\n  export let places;\n\n  const transitionDuration = 1;\n  let currentPlaceIndex = 0;\n\n  // elements\n  let mapContainerEl;\n  let mapEl;\n\n  // flags\n  let started = false;\n  let mapMoving = false;\n\n  // functions\n  const next = moveMapToNextPlace;\n  const prev = moveMapToPreviousPlace;\n  const start = function() {\n    moveMapTo();\n    setTimeout(function() {\n      started = true;\n    }, transitionDuration * 1000);\n  };\n\n  function moveMapTo(index = 0) {\n    const place = places[index];\n    moveMap(mapEl, place.latitude, place.longitude, place.zoom);\n  }\n\n  function moveMapToPreviousPlace() {\n    const previousPlaceIndex =\n      (places.length + currentPlaceIndex - 1) % places.length;\n    moveMapTo(previousPlaceIndex);\n    setTimeout(function() {\n      currentPlaceIndex = previousPlaceIndex;\n    }, transitionDuration * 1000);\n  }\n\n  function moveMapToNextPlace() {\n    const nextPlaceIndex = (currentPlaceIndex + 1) % places.length;\n    moveMapTo(nextPlaceIndex);\n    setTimeout(function() {\n      currentPlaceIndex = nextPlaceIndex;\n    }, transitionDuration * 1000);\n  }\n\n  function setMapTransitionStyle(el) {\n    el.style.transitionProperty = \"transform\";\n    el.style.transitionTimingFunction = \"ease-in\";\n    el.style.transitionDuration = transitionDuration + \"s\";\n  }\n\n  function setMapTransitionEvents(el) {\n    function toggleMapMoving() {\n      mapMoving = !mapMoving;\n    }\n\n    el.addEventListener(\"transitionstart\", toggleMapMoving);\n    el.addEventListener(\"transitionend\", toggleMapMoving);\n  }\n\n  onMount(() => {\n    mapContainerEl.addEventListener(\"load\", function(event) {\n      mapEl = event.target.contentDocument.getElementById(\"map\");\n      setMapTransitionEvents(mapEl);\n      setMapTransitionStyle(mapEl);\n      moveMap(mapEl, 0, 6.1090692, 1);\n    });\n  });\n</script>\n\n<style>\n  main {\n    display: grid;\n    width: inherit;\n    height: inherit;\n  }\n\n  .background,\n  .overlay {\n    grid-area: 1 / 1;\n  }\n\n  .overlay {\n    z-index: 9;\n  }\n\n  .start-container {\n    text-align: center;\n  }\n\n  .title {\n    margin-top: 20vh;\n    font-size: 72px;\n    line-height: 104px;\n  }\n\n  .start-button,\n  .prev-button,\n  .next-button {\n    padding: 0;\n    border: none;\n    font-family: inherit;\n    background-color: #523c30;\n    color: #fff2df;\n  }\n\n  .start-button {\n    position: absolute;\n    font-size: 20px;\n    line-height: 24px;\n    width: 120px;\n    height: 120px;\n    border-radius: 60px;\n    left: calc(50% - 60px);\n    bottom: 20vh;\n  }\n\n  .prev-button,\n  .next-button {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 18px 0 92px 0;\n    width: 180px;\n    height: 180px;\n    border-radius: 90px;\n    bottom: -90px;\n  }\n\n  .prev-button .material-icons,\n  .next-button .material-icons {\n    font-size: 32px;\n    flex-grow: 1;\n  }\n\n  .prev-button .text,\n  .next-button .text {\n    display: block;\n    text-align: center;\n    width: 84px;\n    line-height: 1;\n    font-size: 16px;\n  }\n\n  .prev-button {\n    left: -90px;\n    padding-left: 90px;\n  }\n\n  .prev-button .material-icons {\n    padding-left: 20px;\n  }\n\n  .prev-button .text {\n    padding-right: 6px;\n  }\n\n  .next-button {\n    right: -90px;\n  }\n\n  .next-button .material-icons {\n    padding-left: 44px;\n  }\n\n  .next-button .text {\n    padding-left: 6px;\n  }\n\n  .map-container {\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n  }\n\n  .marker {\n    font-size: 64px;\n    color: inherit;\n    position: absolute;\n    bottom: calc(10% - 2px);\n    left: calc(50% - 32px);\n  }\n\n  .point {\n    position: absolute;\n    border-radius: 2px;\n    width: 4px;\n    height: 4px;\n    background-color: red;\n    bottom: calc(20% - 2px);\n    left: calc(50% - 2px);\n  }\n</style>\n\n<svelte:head>\n  <title>{$_('meta.title')}</title>\n</svelte:head>\n\n<!-- <LocaleSelector /> -->\n<main>\n  <div class=\"background\">\n    <object\n      bind:this={mapContainerEl}\n      class=\"map-container\"\n      title=\"World Map\"\n      data={mapSrc}\n      type=\"image/svg+xml\" />\n  </div>\n  <div class=\"overlay\">\n    {#if started}\n      {#if !mapMoving}\n        <div transition:fade>\n          <nav>\n            <button\n              on:click={prev}\n              disabled={mapMoving}\n              class=\"prev-button\"\n              aria-label={$_('buttons.prev')}>\n              <span class=\"material-icons\">flight_land</span>\n              <span class=\"text\">{$_('buttons.prev')}</span>\n            </button>\n            <button\n              on:click={next}\n              disabled={mapMoving}\n              class=\"next-button\"\n              aria-label={$_('buttons.next')}>\n              <span class=\"material-icons\">flight_takeoff</span>\n              <span class=\"text\">{$_('buttons.next')}</span>\n            </button>\n          </nav>\n          <span class=\"material-icons marker\">place</span>\n          <!-- <div class=\"point\" /> -->\n          <Place {...places[currentPlaceIndex]} />\n        </div>\n      {/if}\n    {:else}\n      <div class=\"start-container\">\n        <div transition:fade class=\"title\">{$_('meta.title')}</div>\n        <button\n          transition:fade\n          on:click={start}\n          disabled={mapMoving}\n          class=\"start-button\">\n          {$_('buttons.start')}\n        </button>\n      </div>\n    {/if}\n  </div>\n</main>\n",
    "<script>\r\n  import { beforeUpdate } from \"svelte\";\r\n  export let photoCount;\r\n  export let folderName;\r\n  export let altText = \"Photo\";\r\n\r\n  const photosPathName = \"assets/photos/\";\r\n  const photoExtension = \".jpg\";\r\n\r\n  let photos;\r\n  let currentFolderName;\r\n  let currentCarouselIndex;\r\n\r\n  function reset() {\r\n    photos = new Array(photoCount);\r\n    currentFolderName = folderName;\r\n    currentCarouselIndex = 0;\r\n  }\r\n\r\n  reset();\r\n\r\n  const next = () =>\r\n    (currentCarouselIndex = (currentCarouselIndex + 1) % photoCount);\r\n\r\n  beforeUpdate(() => {\r\n    if (currentFolderName !== folderName) {\r\n      reset();\r\n    }\r\n  });\r\n</script>\r\n\r\n<style>\r\n  button {\r\n    max-height: inherit;\r\n    display: inline-block;\r\n    margin: 0;\r\n    padding: 0;\r\n    border: none;\r\n    background-color: inherit;\r\n  }\r\n\r\n  img {\r\n    object-fit: contain;\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    max-width: 100%;\r\n    max-height: inherit;\r\n  }\r\n</style>\r\n\r\n{#each photos as photo, index}\r\n  {#if index == currentCarouselIndex}\r\n    <button on:click={next}>\r\n      <img\r\n        src={photosPathName + folderName + '/' + (index + 1) + photoExtension}\r\n        alt={altText + ' ' + (index + 1)} />\r\n    </button>\r\n  {/if}\r\n{/each}\r\n",
    "<script>\r\n  import { afterUpdate } from \"svelte\";\r\n  import { _, locale } from \"svelte-i18n\";\r\n  import Carousel from \"./Carousel.svelte\";\r\n  import { defaultLocale } from \"../i18n.js\";\r\n\r\n  export let id;\r\n  export let name;\r\n  export let region;\r\n  export let country;\r\n  export let arrivalDate;\r\n  export let photoCount;\r\n  // export let type;\r\n\r\n  const typeToIconMap = {\r\n    \"old-town\": \"storefront\",\r\n    city: \"location_city\",\r\n    mountain: \"landscape\",\r\n    nature: \"nature\"\r\n  };\r\n\r\n  const lang = $locale.substr(0, 2);\r\n\r\n  let nameEl;\r\n  let localeName;\r\n\r\n  afterUpdate(() => {\r\n    localeName = name[lang] || name[defaultLocale];\r\n    adaptNameFonSize(localeName, lang);\r\n  });\r\n\r\n  function adaptNameFonSize(name, lang) {\r\n    const nameLength = name.length;\r\n    let fontSize = 48;\r\n\r\n    switch (lang) {\r\n      case \"zh\":\r\n        if (nameLength > 6) {\r\n          fontSize = 26;\r\n        } else if (nameLength > 4) {\r\n          fontSize = 36;\r\n        }\r\n        break;\r\n      default:\r\n        if (nameLength > 20) {\r\n          fontSize = 23;\r\n        } else if (nameLength > 18) {\r\n          fontSize = 24;\r\n        } else if (nameLength > 15) {\r\n          fontSize = 28;\r\n        } else if (nameLength > 12) {\r\n          fontSize = 34;\r\n        } else if (nameLength > 9) {\r\n          fontSize = 38;\r\n        }\r\n    }\r\n    nameEl.style.fontSize = fontSize + \"px\";\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .place-card {\r\n    max-width: 900px;\r\n    position: relative;\r\n    background-color: #ffefd6;\r\n    width: calc(100% - 28px);\r\n    margin: 5vh auto 20vh auto;\r\n    /* margin: 20px 10px 0 10px; */\r\n    padding: 0 1vw 1vw 1vw;\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\r\n  }\r\n\r\n  .card-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 12px 8px 4px 8px;\r\n  }\r\n\r\n  .card-body {\r\n    max-height: 60vh;\r\n  }\r\n\r\n  .name {\r\n    font-size: 48px;\r\n    line-height: 90px;\r\n  }\r\n\r\n  .details {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    font-size: 18px;\r\n    line-height: 36px;\r\n    text-align: right;\r\n  }\r\n</style>\r\n\r\n<div class=\"place-card\">\r\n  <div class=\"card-header\">\r\n    <div bind:this={nameEl} class=\"name\">{localeName}</div>\r\n    <div class=\"details\">\r\n      <div class=\"arrival-date\">\r\n        {arrivalDate.toLocaleDateString($locale, {})}\r\n      </div>\r\n      <div class=\"region\">\r\n        {region ? $_('regions.' + region) + $_('regions.suffix') : ''}{#each country as c, i}{i > 0 ? '-' : '' + $_('countries.' + c)}{/each}\r\n      </div>\r\n      <!-- <div class=\"stay-duration\">2 mois</div> -->\r\n      <!-- <div class=\"type\">\r\n        <span class=\"material-icons\">{typeToIconMap[type]}</span>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n  <div class=\"card-body\">\r\n    {#if photoCount > 0}\r\n      <Carousel {photoCount} folderName={id} altText={name} />\r\n    {/if}\r\n  </div>\r\n</div>\r\n"
  ],
  "names": [],
  "mappings": "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"
}